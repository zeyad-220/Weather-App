<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="responsive.css">
  <title> Weather App</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background-color: #161a29;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      justify-content: center;
      align-items: center;
    }

    .container {
      max-width: 750px;
      background-color: #0b2943;
      padding: 80px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      text-align: center;
    }

    .title {
      font-size: 2.5rem;
      color: #7c3f3e;
      margin-bottom: 20px;
    }

    .weather-icon {
      width: 100px;
      height: 100px;
      margin-bottom: 20px;
    }

    .current-weather {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-bottom: 30px;
    }

    .location {
      font-size: 1.5rem;
      color: #6b7280;
      margin-bottom: 10px;
    }

    .temperature {
      font-size: 3rem;
      color: #050932;
      margin-bottom: 10px;
    }

    .description {
      font-size: 1.2rem;
      color: #6b7280;
      margin-bottom: 20px;
    }

    .details {
      display: flex;
      justify-content: space-around;
      margin-bottom: 30px;
    }

    .detail-item {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .detail-label {
      font-size: 1rem;
      color: #6b7280;
      margin-bottom: 5px;
    }

    .detail-value {
      font-size: 1.2rem;
      color: #050932;
    }

    .forecast-container {
      display: flex;
      justify-content: space-around;
      flex-wrap: wrap;
    }

    .forecast-item {
      background-color: #f9fafb;
      border: 1px solid #e2e8f0;
      border-radius: 5px;
      padding: 15px;
      margin: 10px;
      width: 150px;
      text-align: center;
    }

    .forecast-date {
      font-size: 1rem;
      color: #6b7280;
      margin-bottom: 5px;
    }

    .forecast-icon {
      width: 50px;
      height: 50px;
      margin-bottom: 5px;
    }

    .forecast-temp {
      font-size: 1.2rem;
      color: #050932;
      margin-bottom: 5px;
    }

    .forecast-description {
      font-size: 0.9rem;
      color: #6b7280;
    }

    .footer {
      background-color: #050932;
      color: #ffffff;
      text-align: center;
      padding: 5px;
      position: fixed;
      bottom: 0;
      width: 100%;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1 class="title">Weather App</h1>
    <div class="current-weather">
      <div class="weather-icon" id="weather-icon"></div>
      <div class="location" id="location">Loading...</div>
      <div class="temperature" id="temperature">Loading...</div>
      <div class="description" id="description">Loading...</div>
    </div>
    <div class="details">
      <div class="detail-item">
        <div class="detail-label">Wind Speed</div>
        <div class="detail-value" id="wind-speed">Loading...</div>
      </div>
      <div class="detail-item">
        <div class="detail-label">Humidity</div>
        <div class="detail-value" id="humidity">Loading...</div>
      </div>
      <div class="detail-item">
        <div class="detail-label">Pressure</div>
        <div class="detail-value" id="pressure">Loading...</div>
      </div>
    </div>
    <div class="forecast-container" id="forecast-container">
      <!-- Forecast items -->
    </div>
  </div>
  <footer class="footer">
    <p> Weather App © 2025 Zeyad Gaber | All Rights Reserved </p>
  </footer>
  <script>
    const apiKey = '87360c49ff1ac59e484827c614dce126'; 
    const locationElement = document.getElementById('location');
    const temperatureElement = document.getElementById('temperature');
    const descriptionElement = document.getElementById('description');
    const weatherIconElement = document.getElementById('weather-icon');
    const windSpeedElement = document.getElementById('wind-speed');
    const humidityElement = document.getElementById('humidity');
    const pressureElement = document.getElementById('pressure');
    const forecastContainer = document.getElementById('forecast-container');

    function fetchWeather(lat, lon) {
      const currentWeatherUrl = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&units=metric&appid=${apiKey}`;
      const forecastUrl = `https://api.openweathermap.org/data/2.5/forecast?lat=${lat}&lon=${lon}&units=metric&appid=${apiKey}`;

      Promise.all([
        fetch(currentWeatherUrl).then(response => response.json()),
        fetch(forecastUrl).then(response => response.json())
      ])
      .then(([currentData, forecastData]) => {
        updateCurrentWeather(currentData);
        updateForecast(forecastData);
      })
      .catch(error => {
        console.error('Error fetching weather data:', error);
        locationElement.textContent = 'Unable to fetch weather data';
        temperatureElement.textContent = '';
        descriptionElement.textContent = '';
        weatherIconElement.innerHTML = '';
        windSpeedElement.textContent = '';
        humidityElement.textContent = '';
        pressureElement.textContent = '';
        forecastContainer.innerHTML = '';
      });
    }

    function updateCurrentWeather(data) {
      const city = data.name;
      const temperature = data.main.temp;
      const description = data.weather[0].description;
      const icon = data.weather[0].icon;
      const windSpeed = data.wind.speed;
      const humidity = data.main.humidity;
      const pressure = data.main.pressure;

      locationElement.textContent = city;
      temperatureElement.textContent = `${temperature} °C`;
      descriptionElement.textContent = description.charAt(0).toUpperCase() + description.slice(1);
      weatherIconElement.innerHTML = `<img src="http://openweathermap.org/img/wn/${icon}@2x.png" alt="Weather Icon">`;
      windSpeedElement.textContent = `${windSpeed} m/s`;
      humidityElement.textContent = `${humidity}%`;
      pressureElement.textContent = `${pressure} hPa`;
    }

    function updateForecast(data) {
      const forecastList = data.list;
      const uniqueDays = new Set();

      forecastContainer.innerHTML = '';

      forecastList.forEach(item => {
        const date = new Date(item.dt_txt);
        const day = date.toLocaleDateString('en-US', { weekday: 'short' });

        if (!uniqueDays.has(day)) {
          uniqueDays.add(day);

          const forecastItem = document.createElement('div');
          forecastItem.className = 'forecast-item';

          const forecastDate = document.createElement('div');
          forecastDate.className = 'forecast-date';
          forecastDate.textContent = day;

          const forecastIcon = document.createElement('div');
          forecastIcon.className = 'forecast-icon';
          forecastIcon.innerHTML = `<img src="http://openweathermap.org/img/wn/${item.weather[0].icon}.png" alt="Weather Icon">`;

          const forecastTemp = document.createElement('div');
          forecastTemp.className = 'forecast-temp';
          forecastTemp.textContent = `${item.main.temp} °C`;

          const forecastDescription = document.createElement('div');
          forecastDescription.className = 'forecast-description';
          forecastDescription.textContent = item.weather[0].description.charAt(0).toUpperCase() + item.weather[0].description.slice(1);

          forecastItem.appendChild(forecastDate);
          forecastItem.appendChild(forecastIcon);
          forecastItem.appendChild(forecastTemp);
          forecastItem.appendChild(forecastDescription);

          forecastContainer.appendChild(forecastItem);
        }
      });
    }

    function getLocation() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(position => {
          const lat = position.coords.latitude;
          const lon = position.coords.longitude;
          fetchWeather(lat, lon);
        }, error => {
          console.error('Error getting location:', error);
          locationElement.textContent = 'Unable to get your location';
          temperatureElement.textContent = '';
          descriptionElement.textContent = '';
          weatherIconElement.innerHTML = '';
          windSpeedElement.textContent = '';
          humidityElement.textContent = '';
          pressureElement.textContent = '';
          forecastContainer.innerHTML = '';
        });
      } else {
        console.error('Geolocation is not supported by this browser.');
        locationElement.textContent = 'Geolocation is not supported by this browser';
        temperatureElement.textContent = '';
        descriptionElement.textContent = '';
        weatherIconElement.innerHTML = '';
        windSpeedElement.textContent = '';
        humidityElement.textContent = '';
        pressureElement.textContent = '';
        forecastContainer.innerHTML = '';
      }
    }

    getLocation();
  </script>
</body>
</html>